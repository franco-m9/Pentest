import pyfiglet
import sys
import socket
from datetime import datetime

ascii_banner = pyfiglet.figlet.format("PORT SCANNER")
print(ascii_banner)

if len(sys.argv) == 2:
  targe = socket.gethostbyname(sys.argv[1])
else:
  print("usage: python3 main.y <host>")

print("-" * 50)
print("Scanning target: " + target)
print("Scanning started at:" + str(datetime.now()))
print("-" * 50)

try:
  for port in [21, 22, 25, 80, 139, 443, 445, 8080, 8443]:
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

socket.setdefaulttimeout(1)
  result = s.connect_ex((target, port))
    if result == 0:
      print(f"Port {port} open")
    else:
      print(f"Port {port} closed or filtered")
    s.close()
except KeyboardInterrupt:
  print("\n Exiting Program!")
  sys exit()
except socket.gaierror:
  print("\n Hostname could not be resolved")
  sys.exit()
except socket.error:
  print("\n Server not responding")
  sys.exit()
